<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[WebSocketç®€ä»‹]]></title>
    <url>%2F2018%2F04%2F21%2FWebSocket%2F</url>
    <content type="text"><![CDATA[WebSocket æ˜¯ä¸€ç§åŸºäºTCPçš„æä¾›å…¨åŒå·¥/åŒå‘é€šä¿¡çš„é€šä¿¡åè®®ï¼Œå› ä¸ºå®ƒåŸç”Ÿæ”¯æŒè·¨åŸŸï¼Œä¸”å®‰å…¨æ€§è¾ƒé«˜ï¼Œè€Œä¸”ä¸Šæ‰‹å®¹æ˜“ï¼Œæ˜¯å¾ˆå¥½çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆï¼Œç”šè‡³å¯ä»¥å¾ˆå®¹æ˜“çš„æ­å»ºä¸€ä¸ªèŠå¤©å®¤ã€‚ ä½¿ç”¨æ–¹æ³•å®¢æˆ·ç«¯12//WebSocketæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯URL(å¿…é¡»çš„)ï¼Œä¸€ä¸ªæ˜¯æ‰€ä½¿ç”¨çš„å­åè®®ï¼ˆå¯é€‰ï¼‰ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ˜¯æ•°ç»„ï¼Œæ²¡æœ‰æŒ‡å®šåˆ™ä¸ºç©ºå­—ç¬¦ã€‚httpä½¿ç”¨wsï¼Œhttpsä½¿ç”¨wssvar ws = new WebSocket(&apos;ws://hostname:port&apos;) æœåŠ¡å™¨(NodeJS)123//create WebSocket Servervar WebSocketServer = require(&apos;ws&apos;).Server;var wss = new WebSocketServer(&#123;port: 8181&#125;); WebSocketäº‹ä»¶ open 123ws.onopen = function(e) &#123; ...&#125; message 123ws.onmessage = function(e) &#123; ...&#125; error 123ws.onerror = function(e) &#123; ...&#125; close 123ws.onclose = function(e) &#123; ...&#125; WebSocketæ–¹æ³• send()å¯ä»¥ä¼ è¾“ä¸¤ç§ç±»å‹çš„ä¹‹ï¼šstringå’Œbinaryï¼›å› ä¸ºWebSocketæ˜¯äº‹ä»¶é©±åŠ¨çš„åè®®ï¼Œæ‰€ä»¥å¿…é¡»ç¡®ä¿è¿æ¥å·²ç»æ‰“å¼€å¹¶ä¸”å·²ç»å‡†å¤‡å¥½æ¥æ”¶ä¿¡æ¯äº†ã€‚ 12345678910111213var ws = new WebSocket(&apos;ws://localhost:8181&apos;);ws.onopen = function(e) &#123; ws.send(JSON.stringigy(stock_request));&#125;//orfunction processEvent(e) &#123; if(ws.readState === WebSocket.OPEN) &#123; //Socket open, send ws.send(e); &#125; else &#123; //Show an error, queue it for sending later, etc &#125;&#125; close() 123ws.close();//or pass a numeric code and human-readable stringws.close(100, &quot;Goodbye, World!&quot;); WebSocket close()æ–¹æ³•çŠ¶æ€ç https://developer.mozilla.org/zh-CN/docs/Web/API/CloseEvent WebSocket å±æ€§å½“openäº‹ä»¶è§¦å‘åï¼ŒWebSocketå¯¹è±¡ä¼šæœ‰å‡ ä¸ªå±æ€§å¯ä»¥è¢«å®¢æˆ·ç«¯åº”ç”¨è¯»å–ã€‚ readyState| å±æ€§å| å€¼| æè¿°|| :â€”â€”â€“ | â€”â€”â€“:|:â€“ || WebSocket.CONNECTING| 0 | è¿æ¥è¿˜æœªæ‰“å¼€|| WebSocket.OPEN| 1 | è¿æ¥å·²æ‰“å¼€å¹¶å‡†å¤‡é€šä¿¡|| WebSocket.CLOSING | 2 | æ­£åœ¨å…³é—­è¿æ¥ || WebSocket.CLOSED | 3 | è¿æ¥å·²å…³é—­ | bufferedAmountå¸¸ç”¨äºå‘é€äºŒè¿›åˆ¶æ•°æ®ï¼Œç¡®ä¿åœ¨è¿æ¥å…³é—­å‰æ‰€æœ‰æ•°æ®å·²ç»å‘é€æˆ–è€…åœ¨å®¢æˆ·ç«¯æ‰§è¡ŒæŸäº›é™åˆ¶ protocolæœåŠ¡å™¨ç«¯æ‰€é‡‡ç”¨çš„å­åè®®ï¼ˆåœ¨ä½¿ç”¨WebSocketæ„é€ å™¨æ—¶æŒ‡å®šçš„protocolå‚æ•°ï¼Œå¦‚æœæœåŠ¡å™¨æ²¡æœ‰é‡‡ç”¨åˆ™ä¸ºç©ºï¼‰ æ›´å¤šWebSocketè¯¦ç»†ä¿¡æ¯å‚è€ƒMDNçš„WebSocket API]]></content>
      <tags>
        <tag>WebSocket</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS Grid]]></title>
    <url>%2F2018%2F01%2F07%2FCSS-Grid%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[(è¯‘)JavaScriptçš„å¼€é”€]]></title>
    <url>%2F2017%2F12%2F05%2FThe-cost-of-JavaScript%2F</url>
    <content type="text"><![CDATA[å½“æˆ‘ä»¬å»ºç«‹ä¸¥é‡ä¾èµ–äºJavaScriptçš„ç½‘ç«™æ—¶ï¼Œæˆ‘ä»¬ä¸æ€»æ˜¯å¾ˆå®¹æ˜“çœ‹åˆ°æˆ‘ä»¬å‘é€çš„å†…å®¹æ‰€ä»˜å‡ºçš„ä»£ä»·ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œå¦‚æœä½ å¸Œæœ›ä½ çš„ç½‘ç«™åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šèƒ½å¤Ÿå¿«é€ŸåŠ è½½å’Œäº’åŠ¨ï¼Œæˆ‘å°†ä»‹ç»ä¸ºä»€ä¹ˆä¸€äº›è§„åˆ™å¯ä»¥å¸®åŠ©ä½ ã€‚ tl;drï¼šè¾ƒå°‘çš„ä»£ç =è¾ƒå°‘çš„è§£æ/ç¼–è¯‘+è¾ƒå°‘çš„ä¼ è¾“+è¾ƒå°‘çš„è§£å‹ç¼© ç½‘ç»œå½“å¤§å¤šæ•°å¼€å‘äººå‘˜è€ƒè™‘JavaScriptçš„æˆæœ¬æ—¶ï¼Œä»–ä»¬ä¼šè€ƒè™‘ä¸‹è½½å’Œæ‰§è¡Œæˆæœ¬ã€‚é€šè¿‡çº¿è·¯å‘é€æ›´å¤šå­—èŠ‚çš„JavaScriptéœ€è¦çš„æ—¶é—´è¶Šé•¿ï¼Œç”¨æˆ·çš„è¿æ¥ä¹Ÿå°±è¶Šæ…¢ã€‚ è¿™å¯èƒ½æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œå³ä½¿åœ¨å‘è¾¾å›½å®¶ï¼Œå› ä¸ºç”¨æˆ·æœ‰æ•ˆçš„ç½‘ç»œè¿æ¥ç±»å‹å¯èƒ½å®é™…ä¸Šå¹¶ä¸æ˜¯3Gï¼Œ4Gæˆ–WiFiã€‚ä½ å¯èƒ½åœ¨å’–å•¡åº—ä½¿ç”¨Wifiï¼Œä½†è¿æ¥åˆ°çš„æ˜¯2Gçš„èœ‚çªçƒ­ç‚¹ã€‚ æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼é™ä½ JavaScriptçš„ç½‘ç»œä¼ è¾“æˆæœ¬ï¼š åªå‘é€ç”¨æˆ·éœ€è¦çš„ä»£ç ã€‚ä»£ç æ‹†åˆ†è¿™æ—¶å€™å°±æœ‰ç”¨æ­¦ä¹‹åœ°äº†ã€‚ å‹ç¼©ä»£ç ï¼ˆES515çš„ Uglifyï¼Œ ES2015çš„ babel- minifyæˆ–uglify -esï¼‰ é«˜åº¦å‹ç¼©ï¼ˆä½¿ç”¨Brotliã€œq11ï¼ŒZopfliæˆ–gzipçš„ï¼‰ã€‚Brotliçš„å‹ç¼©æ¯”è¶…è¿‡Gzipã€‚å®ƒè®©CertSimpleèŠ‚çœäº†17ï¼…çš„JSå‹ç¼©å­—èŠ‚å¤§å°ï¼ŒLinkedInèŠ‚çœäº† 4ï¼…çš„åŠ è½½æ—¶é—´ã€‚ åˆ é™¤æœªä½¿ç”¨çš„ä»£ç ã€‚é€šè¿‡DevToolsä»£ç è¦†ç›–æ¥ç¡®å®šã€‚å¯¹äºå‰¥ç¦»çš„ä»£ç ï¼Œå¯ä»¥æŸ¥çœ‹tree shakingï¼Œé—­åŒ…ç¼–è¯‘å™¨çš„é«˜çº§ä¼˜åŒ–å’Œå¾®è°ƒåº“æ’ä»¶å¦‚lodash-babel-pluginæ’ä»¶æˆ–WebPackçš„ContextReplacementPluginå¦‚Moment.jsåº“ã€‚ä½¿ç”¨babel-preset-envå’Œbrowserlistæ¥é¿å…ç°ä»£æµè§ˆå™¨ä¸­å·²ç»å­˜åœ¨çš„è½¬è¯‘åŠŸèƒ½ã€‚é«˜çº§å¼€å‘äººå‘˜å¯èƒ½ä¼šå‘ç°ä»”ç»†åˆ†æWebpackæ†ç»‘åŒ…æœ‰åŠ©äºè¯†åˆ«ä¿®å‰ªä¸éœ€è¦çš„ä¾èµ–å…³ç³»ã€‚ ä½¿ç”¨HTTPç¼“å­˜ä»¥å°½é‡å‡å°‘ç½‘ç»œè·³è½¬ã€‚ç¡®å®šè„šæœ¬çš„æœ€ä½³ç”Ÿå‘½å‘¨æœŸï¼ˆmax-ageï¼‰å’Œæä¾›ä»¤ç‰ŒéªŒè¯ï¼ˆETagï¼‰ä»¥é¿å…ä¼ è¾“æ²¡æœ‰å˜æ›´çš„å­—èŠ‚ã€‚Service Workerç¼“å­˜å¯ä»¥ä½¿æ‚¨çš„åº”ç”¨ç¨‹åºç½‘ç»œå…·æœ‰å¼¹æ€§ï¼Œè®©æ‚¨å¯ä»¥å¿«é€Ÿè®¿é—®V8çš„ä»£ç ç¼“å­˜ç­‰åŠŸèƒ½ã€‚äº†è§£æœ‰å…³æ–‡ä»¶åå“ˆå¸Œçš„é•¿æœŸç¼“å­˜ã€‚ è§£æ/ç¼–è¯‘ä¸€æ—¦JSä¸‹è½½å®Œæ¯•ï¼ŒJavaScriptæœ€å¤§çš„ä¸€ä¸ªæˆæœ¬å°±æ˜¯JSå¼•æ“è§£æ/ç¼–è¯‘è¿™æ®µä»£ç çš„æ—¶é—´ã€‚åœ¨Chrome DevToolsä¸­ï¼Œè§£æå’Œç¼–è¯‘æ˜¯â€œæ€§èƒ½â€é¢æ¿ä¸­é»„è‰²â€œè„šæœ¬â€æ—¶é—´çš„ä¸€éƒ¨åˆ†ã€‚ Bottom-Up/Call Treeå…è®¸æŸ¥çœ‹ç¡®åˆ‡çš„è§£æ/ç¼–è¯‘æ—¶åºï¼šChrome DevToolsâ€œæ€§èƒ½â€é¢æ¿&gt;è‡ªä¸‹è€Œä¸Šã€‚é€šè¿‡å¯ç”¨V8çš„è¿è¡Œæ—¶è°ƒç”¨ç»Ÿè®¡ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åˆ†æå’Œç¼–è¯‘é˜¶æ®µèŠ±è´¹çš„æ—¶é—´ ä½†æ˜¯ï¼Œä¸ºä»€ä¹ˆè¿™ä¼šæœ‰é—®é¢˜å‘¢ï¼ŸèŠ±è´¹å¾ˆé•¿æ—¶é—´è§£æ/ç¼–è¯‘ä»£ç ä¼šä¸¥é‡å»¶è¿Ÿç”¨æˆ·ä¸ç½‘ç«™äº’åŠ¨çš„æ—¶é—´ã€‚å‘é€çš„JavaScriptè¶Šå¤šï¼Œåœ¨ç½‘ç«™äº¤äº’ä¹‹å‰è§£æå’Œç¼–è¯‘çš„æ—¶é—´å°±è¶Šé•¿ã€‚ åŒæ ·å¤šçš„å­—èŠ‚ï¼Œæµè§ˆå™¨å¤„ç†JavaScriptè¦æ¯”åŒç­‰å¤§å°çš„å›¾åƒæˆ–Webå­—ä½“å¼€é”€æ›´å¤§ã€‚ - Tom Dale ä¸JavaScriptç›¸æ¯”ï¼Œåœ¨å¤„ç†ç­‰æ•ˆå¤§å°çš„å›¾ç‰‡æ—¶ï¼ˆæ¶‰åŠåˆ°å¤§é‡çš„å›¾ç‰‡ä»ç„¶éœ€è¦è§£ç ï¼ï¼‰ï¼Œæ¶‰åŠåˆ°å¤§é‡çš„å¼€é”€ï¼Œä½†æ˜¯åœ¨ä¸€èˆ¬çš„ç§»åŠ¨è®¾å¤‡ä¸Šï¼ŒJSæ›´æœ‰å¯èƒ½å¯¹é¡µé¢çš„äº¤äº’æ€§äº§ç”Ÿè´Ÿé¢å½±å“ã€‚JavaScriptå’Œå›¾åƒå­—èŠ‚çš„å¼€é”€æœ‰å¾ˆå¤§çš„ä¸åŒã€‚å›¾åƒé€šå¸¸ä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Œä¹Ÿä¸ä¼šé˜»æ­¢æ¥å£åœ¨è§£ç å’Œæ …æ ¼åŒ–æ—¶è¿›è¡Œçš„äº¤äº’ã€‚ç„¶è€ŒJSç”±äºè§£æï¼Œç¼–è¯‘å’Œæ‰§è¡Œçš„æˆæœ¬ä¼šå»¶è¿Ÿäº¤äº’æ€§ã€‚ å½“æˆ‘ä»¬è°ˆè®ºè§£æå’Œç¼–è¯‘å˜æ…¢çš„æ—¶å€™ï¼Œä¸Šä¸‹æ–‡å¾ˆé‡è¦ - æˆ‘ä»¬åœ¨è¿™é‡Œè°ˆè®ºçš„æ™®é€šæ‰‹æœºã€‚æŒ‡çš„æ˜¯å¤§éƒ¨åˆ†ç”¨æˆ·ä½¿ç”¨çš„CPUå’ŒGPUé€Ÿåº¦è¾ƒæ…¢çš„æ‰‹æœºï¼Œæ— L2 / L3ç¼“å­˜ï¼Œç”šè‡³å¯èƒ½å†…å­˜å¾ˆå°ã€‚ ç½‘ç»œåŠŸèƒ½å’Œè®¾å¤‡åŠŸèƒ½å¹¶ä¸æ€»æ˜¯ç›¸åŒ¹é…ã€‚ä½¿ç”¨å…‰çº¤è¿æ¥çš„ç”¨æˆ·ä¸ä¸€å®šæœ‰æœ€å¥½çš„CPUæ¥è§£æå’Œæ‰§è¡Œå‘é€åˆ°ä»–ä»¬çš„è®¾å¤‡çš„JavaScriptã€‚åè¿‡æ¥ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ä¸€ä¸ªç³Ÿç³•çš„ç½‘ç»œè¿æ¥ï¼Œä½†å´æœ‰ä¸€ä¸ªå¿«é€Ÿçš„CPUã€‚ - Kristofer Baxterï¼ŒLinkedIn åœ¨JavaScriptå¯åŠ¨æ€§èƒ½ä¸­ï¼Œæˆ‘æ³¨æ„åˆ°åœ¨ä½ç«¯å’Œé«˜ç«¯ç¡¬ä»¶ä¸Šè§£æå¤§çº¦1MBå·²ç»è¢«è§£å‹çš„ï¼ˆç®€å•ï¼‰JavaScriptçš„å¼€é”€ã€‚åœ¨å¸‚åœºä¸Šæœ€å¿«çš„æ‰‹æœºå’Œæ™®é€šæ‰‹æœºä¹‹é—´è§£æ/ç¼–è¯‘ä»£ç çš„æ—¶é—´æœ‰2-5å€çš„å·®å¼‚ã€‚åœ¨ä¸åŒç±»åˆ«çš„æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡ä¸Šè§£æä¸€ä¸ª1MBçš„JavaScriptåŒ…ï¼ˆçº¦æœ‰250KB è¢«gzipå‹ç¼©äº†ï¼‰çš„è§£ææ—¶é—´ã€‚åœ¨æŸ¥çœ‹è§£æçš„å¼€é”€æ—¶ï¼Œè§£å‹åçš„æ•°æ®è¦è€ƒè™‘åˆ°å¤§çº¦æœ‰250KB è¢«gzipå‹ç¼©çš„ç©ºé—´ä¼šè¢«é‡Šæ”¾å‡ºæ¥å½“è§£å‹ç¼©å¤§çº¦1MBçš„ä»£ç çš„æ—¶å€™ é‚£ä¹ˆç°å®ä¸–ç•Œçš„ç½‘ç«™å¦‚ä½•å‘¢ï¼Œå¦‚CNN.comåœ¨é«˜ç«¯çš„iPhone 8ä¸Šï¼Œè§£æ/ç¼–è¯‘CNNçš„JSéœ€è¦èŠ±è´¹å¤§çº¦4ç§’ï¼Œè€Œæ™®é€šæ‰‹æœºï¼ˆMoto G4ï¼‰åˆ™åªéœ€è¦13ç§’ã€‚è¿™å¯ä»¥æ˜¾è‘—å½±å“ç”¨æˆ·ä¸æœ¬ç½‘ç«™å®Œå…¨äº¤äº’çš„é€Ÿåº¦ã€‚è‹¹æœçš„A11ä»¿ç”ŸèŠ¯ç‰‡å’Œéå¸¸æ™®é€šçš„Androidç¡¬ä»¶ä¸­çš„Snapdragon 617çš„è§£ææ—¶é—´æ€§èƒ½æ¯”è¾ƒã€‚ è¿™çªå‡ºäº†æ™®é€šç¡¬ä»¶ï¼ˆå¦‚Moto G4ï¼‰æµ‹è¯•çš„é‡è¦æ€§ï¼Œè€Œä¸ä»…ä»…æ˜¯å£è¢‹é‡Œçš„æ‰‹æœºã€‚ä½†æ˜¯ï¼Œä½¿ç”¨ç¯å¢ƒå¾ˆé‡è¦ï¼šä¼˜åŒ–æ‚¨çš„ç”¨æˆ·æ‹¥æœ‰çš„è®¾å¤‡å’Œç½‘ç»œæ¡ä»¶ã€‚ åˆ†æå¯ä»¥æ·±å…¥äº†è§£æ‚¨çš„çœŸå®ç”¨æˆ·è®¿é—®æ‚¨çš„ç½‘ç«™çš„ç§»åŠ¨è®¾å¤‡ç±»åˆ«ã€‚è¿™å¯ä»¥æä¾›æœºä¼šæ¥äº†è§£ä»–ä»¬æ­£åœ¨ä½¿ç”¨çš„çœŸæ­£çš„CPU / GPUçš„é™åˆ¶ã€‚ æˆ‘ä»¬æ˜¯å¦çœŸçš„å‘é€äº†å¤ªå¤šçš„JavaScriptï¼Ÿé”™è¯¯ï¼Œè¿™å¾ˆæœ‰å¯èƒ½:) ä½¿ç”¨HTTP Archiveï¼ˆæœ€é«˜å¤§çº¦50ä¸‡ä¸ªç«™ç‚¹ï¼‰æ¥åˆ†æç§»åŠ¨è®¾å¤‡ä¸ŠJavaScriptçš„çŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ50ï¼…çš„ç«™ç‚¹éœ€è¦14ç§’æ‰èƒ½è·å¾—äº¤äº’ã€‚ä»…ä»…åªæ˜¯è§£æå’Œç¼–è¯‘JSï¼Œè¿™äº›ç½‘ç«™å°±èŠ±è´¹é•¿è¾¾4ç§’ã€‚ åœ¨è·å–å’Œå¤„ç†JSå’Œå…¶ä»–èµ„æºæ‰€èŠ±è´¹çš„æ—¶é—´ä¸­ï¼Œå› ä¸ºæ„Ÿè§‰ç½‘é¡µå·²ç»å¯ä»¥ä½¿ç”¨ï¼Œç”¨æˆ·å¯èƒ½ä¼šç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œè¿™ä¹Ÿè®¸å¹¶ä¸å¥‡æ€ªã€‚ä½†æˆ‘ä»¬ä¸€å®šå¯ä»¥åœ¨è¿™é‡Œåšå¾—æ›´å¥½ã€‚ ä»ç½‘é¡µä¸­åˆ é™¤ä¸é‡è¦çš„JavaScriptå¯ä»¥å‡å°‘ä¼ è¾“æ—¶é—´ï¼ŒCPUå¯†é›†å‹è§£æå’Œç¼–è¯‘ä»¥åŠæ½œåœ¨çš„å†…å­˜å¼€é”€ã€‚è¿™ä¹Ÿæœ‰åŠ©äºè®©æ‚¨çš„ç½‘é¡µæ›´å¿«åœ°äº¤äº’ã€‚ æ‰§è¡Œæ—¶é—´è¿™ä¸ä»…ä»…æ˜¯è§£æå’Œç¼–è¯‘ï¼Œè€Œä¸”å¯èƒ½ä¼šå¸¦æ¥é¢å¤–çš„å¼€é”€ã€‚JavaScriptæ‰§è¡Œï¼ˆä¸€æ¬¡è§£æ/ç¼–è¯‘è¿è¡Œä»£ç ï¼‰æ˜¯åœ¨ä¸»çº¿ç¨‹ä¸Šå‘ç”Ÿçš„æ“ä½œä¹‹ä¸€ã€‚å¾ˆé•¿çš„æ‰§è¡Œæ—¶é—´ä¹Ÿå¯ä»¥æ¨å‡ºç”¨æˆ·å¯ä»¥ä¸ç½‘ç«™äº’åŠ¨çš„æ—¶é—´ã€‚ å¦‚æœè„šæœ¬æ‰§è¡Œæ—¶é—´è¶…è¿‡50msï¼Œåˆ™äº¤äº’æ—¶é—´ä¼šè¢«ä¸‹è½½ï¼Œç¼–è¯‘å’Œæ‰§è¡ŒJSæ‰€èŠ±æ—¶é—´å»¶è¿Ÿäº† - Alex Russell ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒJavaScriptå—ç›Šäºsmall chunksï¼Œä»¥é¿å…é”å®šä¸»çº¿ç¨‹ã€‚æ¢ç´¢æ˜¯å¦å¯ä»¥å‡å°‘æ‰§è¡Œè¿‡ç¨‹ä¸­æ­£åœ¨è¿›è¡Œçš„å·¥ä½œé‡ã€‚ å‡å°‘JavaScriptå‘é€å¼€é”€çš„æ¨¡å¼å½“ä½ è¯•å›¾ä¿æŒJavaScriptçš„è§£æ/ç¼–è¯‘å’Œç½‘ç»œä¼ è¾“æ—¶é—´å¾ˆæ…¢æ—¶ï¼Œæœ‰ä¸€äº›æ¨¡å¼å¯ä»¥å¸®åŠ©åƒåŸºäºè·¯ç”±çš„åˆ†å—(route-based chunking)æˆ–PRPLã€‚ PRPLæ˜¯ä¸€ç§é€šè¿‡ä»£ç åˆ†å‰²å’Œç¼“å­˜æ¥ä¼˜åŒ–äº¤äº’æ€§çš„æ¨¡å¼ï¼š è®©æˆ‘ä»¬çœ‹çœ‹å®ƒå¯ä»¥äº§ç”Ÿçš„å½±å“ã€‚æˆ‘ä»¬ä½¿ç”¨V8çš„è¿è¡Œæ—¶è°ƒç”¨ç»Ÿè®¡æ¥åˆ†ææµè¡Œç§»åŠ¨ç½‘ç«™å’ŒProgressive Web Appsçš„åŠ è½½æ—¶é—´ã€‚æ­£å¦‚æˆ‘ä»¬æ‰€çœ‹åˆ°çš„ï¼Œè§£ææ—¶é—´ï¼ˆä»¥æ©™è‰²æ˜¾ç¤ºï¼‰æ˜¯è®¸å¤šè¿™äº›ç«™ç‚¹èŠ±è´¹æ—¶é—´çš„æ¯”è¾ƒå¤§çš„éƒ¨åˆ†ï¼š Wegoæ˜¯ä¸€ä¸ªä½¿ç”¨PRPLçš„ç½‘ç«™ï¼Œå®ƒè®¾æ³•ä¿æŒè¾ƒä½çš„è·¯ç”±è§£ææ—¶é—´ï¼Œèƒ½å¤Ÿéå¸¸è¿…é€Ÿåœ°è¿›è¡Œäº’åŠ¨ã€‚ä¸Šé¢çš„è®¸å¤šå…¶ä»–ç«™ç‚¹éƒ½é‡‡ç”¨ä»£ç åˆ†è§£å’Œæ€§èƒ½é¢„ç®—æ¥é™ä½JSçš„å¼€é”€ã€‚ å…¶ä»–å¼€é”€JavaScriptå¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼å½±å“é¡µé¢æ€§èƒ½ï¼š å†…å­˜ã€‚ç”±äºGCï¼ˆåƒåœ¾æ”¶é›†ï¼‰ï¼Œé¡µé¢å¯èƒ½ç»å¸¸ä¼šå‡ºç°å¡é¡¿æˆ–æš‚åœã€‚å½“æµè§ˆå™¨å›æ”¶å†…å­˜æ—¶ï¼ŒJSæ‰§è¡Œè¢«æš‚åœï¼Œæ‰€ä»¥ç»å¸¸è¿›è¡Œåƒåœ¾æ”¶é›†çš„æµè§ˆå™¨å¯ä»¥æ¯”æˆ‘ä»¬æƒ³è¦çš„æ›´é¢‘ç¹åœ°æš‚åœæ‰§è¡Œã€‚é¿å…å†…å­˜æ³„æ¼å’Œé¢‘ç¹çš„gcæš‚åœï¼Œä»¥ä¿æŒé¡µé¢æµç•…ã€‚ åœ¨è¿è¡Œæ—¶ï¼Œé•¿æ—¶é—´è¿è¡Œçš„JavaScriptå¯ä»¥é˜»æ­¢ä¸»çº¿ç¨‹å¯¼è‡´æ— å“åº”çš„é¡µé¢ã€‚å°†å·¥ä½œåˆ†æˆæ›´å°çš„éƒ¨åˆ†ï¼ˆä½¿ç”¨requestAnimationFrameï¼ˆï¼‰æˆ–æœ‰è®¡åˆ’çš„ä½¿ç”¨requestIdleCallbackï¼ˆï¼‰ï¼‰å¯ä»¥æœ€å¤§é™åº¦åœ°å‡å°‘å“åº”æ€§é—®é¢˜ã€‚ æ¸è¿›å¼å¼•å¯¼è®¸å¤šç½‘ç«™å°†å†…å®¹å¯è§†æ€§ä½œä¸ºäº¤äº’æ€§çš„ä»£ä»·æ¥ä¼˜åŒ–ã€‚ä¸ºäº†åœ¨æœ‰å¤§çš„JavaScriptåŒ…æ—¶è·å¾—ä¸€ä¸ªå¿«é€Ÿçš„é¦–é¡µï¼Œå¼€å‘è€…æœ‰æ—¶ä¼šä½¿ç”¨æœåŠ¡å™¨ç«¯æ¸²æŸ“;ç„¶ååœ¨JavaScriptæœ€ç»ˆè·å–æ—¶å°†å…¶â€œå‡çº§â€ä»¥é™„åŠ äº‹ä»¶å¤„ç†ç¨‹åºã€‚ å°å¿ƒ - è¿™æœ‰å®ƒè‡ªå·±çš„å¼€é”€ã€‚1ï¼‰è¿™é€šå¸¸ä¼šå‘é€ä¸€ä¸ªæ›´å¤§çš„ HTMLå“åº”ï¼Œè¿™ä¼šå»¶è¿Ÿäº¤äº’æ€§ï¼Œ2ï¼‰è¿™ä¼šæŠŠç”¨æˆ·ç•™åœ¨ä¸€ä¸ªç¦»å¥‡çš„å±±è°·ä¸­ï¼Œå…¶ä¸­æœ‰ä¸€åŠçš„å®é™…åŠŸèƒ½æ˜¯æ²¡æœ‰åŠæ³•äº¤äº’çš„ï¼Œç›´åˆ°JavaScriptè¿è¡Œå®Œæˆã€‚ æ¸è¿›å¼å¼•å¯¼å¯èƒ½æ˜¯ä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•ã€‚å‘é€ä¸€ä¸ªæœ€å°åŠŸèƒ½çš„é¡µé¢ï¼ˆç”±å½“å‰è·¯ç”±æ‰€éœ€çš„HTML / JS / CSSç»„æˆï¼‰ã€‚éšç€æ›´å¤šçš„èµ„æºåˆ°è¾¾ï¼Œè¯¥åº”ç”¨ç¨‹åºå¯ä»¥å»¶è¿ŸåŠ è½½å’Œè§£é”æ›´å¤šçš„åŠŸèƒ½ã€‚Paul Lewisçš„æ¸è¿›å¼å¼•å¯¼è§†è§‰ æ ¹æ®æ‰€çœ‹åˆ°çš„åŠ è½½ä»£ç æ˜¯åœ£æ¯ã€‚PRPLå’Œæ¸è¿›å¼•å¯¼æ˜¯å¯ä»¥å¸®åŠ©å®ç°è¿™ä¸€ç‚¹çš„æ¨¡å¼ã€‚ ç»“è®ºä¼ è¾“å¤§å°å¯¹ä½ç«¯ç½‘ç»œè‡³å…³é‡è¦ã€‚è§£ææ—¶é—´å¯¹äºCPUå—é™çš„è®¾å¤‡å¾ˆé‡è¦ã€‚ä¿æŒè¿™ä¸¤è€…çš„æŠµå¼€é”€ã€‚ å›¢é˜Ÿå‘ç°æˆåŠŸé‡‡ç”¨ä¸¥æ ¼çš„æ€§èƒ½é¢„ç®—æ¥ä¿æŒJavaScriptä¼ è¾“å’Œè§£æ/ç¼–è¯‘æ—¶é—´è¾ƒçŸ­ã€‚è¯·å‚é˜…Alex Russellçš„â€œ æ‚¨å¯ä»¥æ‰¿å—å—ï¼Ÿï¼šçœŸå®ä¸–ç•Œçš„Webæ€§èƒ½é¢„ç®— â€ï¼Œä»¥è·å–å…³äºç§»åŠ¨é¢„ç®—çš„æŒ‡å¯¼ã€‚è€ƒè™‘ä¸€ä¸‹æˆ‘ä»¬åˆ¶ä½œçš„æ¶æ„å†³ç­–å¯ä»¥ä¸ºåº”ç”¨ç¨‹åºé€»è¾‘ç•™ä¸‹å¤šå°‘JSâ€œç©ºé—´â€ã€‚ å¦‚æœæ‚¨æ­£åœ¨æ„å»ºé’ˆå¯¹ç§»åŠ¨è®¾å¤‡çš„ç½‘ç«™ï¼Œè¯·å°½å¯èƒ½åœ¨ä»£è¡¨æ€§ç¡¬ä»¶ä¸Šå¼€å‘ï¼Œä¿æŒè¾ƒä½çš„JavaScriptåˆ†æ/ç¼–è¯‘æ—¶é—´ï¼Œå¹¶é‡‡ç”¨æ€§èƒ½é¢„ç®—æ¥ç¡®ä¿æ‚¨çš„å›¢é˜Ÿèƒ½å¤Ÿå…³æ³¨å…¶JavaScriptæˆæœ¬ã€‚ æ³¨ï¼š æœ¬æ–‡ç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ï¼Œä»…ç”¨äºå­¦ä¹ ä¸äº¤æµï¼› å¦‚éœ€è½¬è½½è¯‘æ–‡ï¼Œçƒ¦è¯·æŒ‰ä¸‹æ–¹æ³¨æ˜å‡ºå¤„ä¿¡æ¯ï¼Œè°¢è°¢ï¼åŸæ–‡ï¼š The Cost Of JavaScriptä½œè€…ï¼š Addy Osmaniè¯‘è€…ï¼šsmallboneåŸæ–‡åœ°å€]]></content>
      <tags>
        <tag>ç¿»è¯‘</tag>
        <tag>JavaScript</tag>
        <tag>æ€§èƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[äº†ä¸èµ·çš„NodeJSï¼šMongoDBä»£ç æ›´æ­£]]></title>
    <url>%2F2017%2F10%2F01%2Fsmashingnode-master-code%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘åœ¨å­¦ä¹ NodeJSï¼Œåœ¨ç½‘ä¸Šä¸€ç•ªæœç´¢èµ„æ–™åï¼Œå¾ˆå¤šäººéƒ½å»ºè®®è¯»ã€Šäº†ä¸èµ·çš„NodeJSã€‹ï¼Œäºæ˜¯å°±å¼€å§‹å¼€å§‹å•ƒèµ·æ¥äº†ã€‚åœ¨ä¸€è¾¹è¯»ä¸€è¾¹æ•²ä»£ç çš„çš„è¿‡ç¨‹ä¸­å‘ç°ä¹¦ä¸­æœ‰äº›ç¤ºä¾‹ä¸­çš„ä»£ç å­˜åœ¨ä¹¦å†™æˆ–è€…æ¡†æ¶çš„æ›´æ–°å¯¼è‡´è¿è¡Œå‡ºé”™ï¼ŒèŠ±äº†ä¸å°‘æ—¶é—´å­¦ä¹ æ¡†æ¶çš„æ›´æ–°å’Œåº“çš„ä½¿ç”¨æ–¹æ³•ï¼Œæ‰è®©ä»£ç è¿è¡Œæ­£å¸¸ã€‚ä¸‹é¢å°±æ˜¯æœ‰å…³MongoDBä»£ç æ›´æ­£ï¼š expresså®ä¾‹åˆ›å»ºä¹¦ä¸Šçš„å†™æ³•1var app = express.createServer(); æ›´æ–°åçš„å†™æ³•1var app = express(); ä¸­é—´ä»¶ä¹¦ä¸Šçš„å†™æ³•1234//æºä»£ç app.use(express.bodyParser());app.use(express.cookieParser());app.use(express.session(&#123;secret: &apos;my secret&apos;&#125;)); ç”±äºæ–°ç‰ˆçš„expressä¸­å°†åŸæ¥è‡ªèº«çš„å¤§éƒ¨åˆ†ä¸­é—´ä»¶éƒ½ç§»é™¤äº†ï¼Œæ‰€ä»¥éœ€è¦é¢å¤–å®‰è£…å¹¶å¼•ç”¨ã€‚123456789//æ›´æ­£åvar session = require(&apos;express-session&apos;);var cookieParser = require(&apos;cookie-parser&apos;);var bodyParser = require(&apos;body-parser&apos;);app.use(bodyParser.json());app.use(bodyParser.urlencoded(&#123; extended: true &#125;));app.use(cookieParser());app.use(session(&#123;secret: &apos;my secret&apos;&#125;)); bodyParser.urlencodedä¸­çš„extentedè®¾ç½®é€‰é¡¹æ˜¯ç”¨æ¥æ§åˆ¶POSTä¼ é€’çš„å€¼æ˜¯æ”¾èƒ½è¢«å¯¹è±¡åŒ–ï¼Œä¾‹å¦‚ä¸‹é¢çš„jadeæ¨¡æ¿ä¸­inputä¿¡æ¯1input(name=&quot;user[first]&quot;, type=&quot;text&quot;) { extended: true }: req.body ä¸º { user: { name: â€˜123123â€™ } }{ extended: false }: req.body ä¸º { â€˜user[name]â€™: â€˜12313â€™ } Jadeæ¨¡æ¿Jadeæ¨¡æ¿å·²ç»æ›´åä¸ºPugï¼Œä½†æ˜¯ä»ç„¶å¯ä»¥ä½¿ç”¨jadeã€‚ doctypeçš„å˜æ›´ï¼š doctype 5 =&gt; doctype html ä¹¦ä¸­indexæ¨¡æ¿ä¸­çš„block bodyä¸‹çš„ä»£ç åº”è¯¥ç¼©è¿›1234567891011//æ›´æ­£åextends layoutblock content if (authenticated) p Welcome back, #&#123;me.first&#125; a(href=&quot;/logout&quot;) Logout else p Welcome new visitor! ul li: a(href=&quot;/login&quot;) Login li: a(href=&quot;/signup&quot;) Signup mongodbæ–°å»ºcollection12//æºä»£ç app.users = new mongodb.Collection(client, &apos;users&apos;); è¿™é‡Œ Collection æ˜¯ mongodb çš„æ–¹æ³•å¾—ç”¨å°å†™,å¦å¤–åœ¨ä½¿ç”¨ mongodb ä¹‹å‰è®°å¾—è¦å…ˆç”¨ mongod å‘½ä»¤å¼€å¯æœåŠ¡å™¨12//æ›´æ­£åapp.users = new mongodb.collection(client, &apos;users&apos;); mongodb insert åçš„å›è°ƒä½¿ç”¨123456//æºä»£ç app.users.insert(req.body.user, function (err, doc) &#123;if (err) next(err);console.log(doc);res.redirect(&apos;/login/&apos; + doc[0].email);&#125;); doc å˜æˆäº†ä¸€ä¸ªå¯¹è±¡ï¼Œæ‹¥æœ‰ result å’Œ ops ä¸¤ä¸ªå±æ€§,æˆ‘ä»¬éœ€è¦çš„æ•°æ®åœ¨ ops é‡Œé¢12345app.users.insert(req.body.user, function (err, doc) &#123;if (err) next(err);console.log(doc);res.redirect(&apos;/login/&apos; + doc.ops[0].email);&#125;); 204é¡µå¿˜è®°ä¼  next äº†â€¦12345678//æºä»£ç app.post(&apos;/login&apos;, function (req, res) &#123;app.users.findOne(&#123;email: req.body.email, password: req.body.password&#125;, function (err, doc) &#123;if (err) return next(err);if (!doc) return res.send(&apos;&lt;p&gt;User not found &lt;/p&gt;&apos;);req.session.loggedIn = doc._id.toString();&#125;);&#125;); 12345678//æ›´æ­£åapp.post(&apos;/login&apos;, function (req, res, next) &#123;app.users.findOne(&#123;email: req.body.email, password: req.body.password&#125;, function (err, doc) &#123;if (err) return next(err);if (!doc) return res.send(&apos;&lt;p&gt;User not found &lt;/p&gt;&apos;);req.session.loggedIn = doc._id.toString();&#125;);&#125;); mongodbçš„_idæŸ¥è¯¢ä½¿ç”¨ mongodb çš„ _id è¿›è¡ŒæŸ¥è¯¢,åŸæ–‡ä¸­çš„æŒ‡ä»£æ–¹æ³•å·²ç»ä¸èƒ½ä½¿ç”¨äº†ã€‚è€Œ node æœ¬èº«ä¸æä¾›ç”Ÿæˆ objectid çš„æ–¹æ³•è¿™é‡Œéœ€è¦ä¾èµ–ç¬¬ä¸‰æ–¹å·¥å…·12345//æºä»£ç app.users.findOne(&#123;_id: &#123;$oid: req.session.loggedIn&#125;&#125;, function (err, doc) &#123;if (err) return next(err);next();&#125;); 1234567//æ›´æ­£åvar objectid = require(&apos;objectid&apos;);app.users.findOne(&#123;_id: objectid(req.session.loggedIn)&#125;, function (err, doc) &#123;if (err) return next(err);next();&#125;); jadeä¸­å…¨å±€å˜é‡ locals çš„ä½¿ç”¨1234567891011121314//æºä»£ç app.use(function (req, res, next) &#123;if (req.session.loggedIn) &#123;res.local(&apos;auth&apos;, true);app.users.findOne(&#123;_id: objectid(req.session.loggedIn)&#125;, function (err, doc) &#123;if (err) return next(err);res.local(&apos;me&apos;, doc);next();&#125;);&#125; else &#123;res.local(&apos;auth&apos;, false);next();&#125;&#125;); è¿™é‡Œ express çš„å®šä¹‰æ–¹æ³•æ›´æ”¹äº†,å¦å¤–ä½¿ç”¨ mongodb æŸ¥è¯¢çš„æ—¶å€™å¦‚æœæ²¡æœ‰æŸ¥æ‰¾åˆ°å¹¶ä¸ä¼šæŠ¥é”™,è€Œæ˜¯åœ¨å›è°ƒçš„ doc è®¾ä¸º nullã€‚ 1234567891011121314//æ›´æ­£åapp.use(function (req, res, next) &#123;if (req.session.loggedIn) &#123;app.locals.auth = true;app.users.findOne(&#123;_id: objectid(req.session.loggedIn)&#125;, function (err, doc) &#123;if (err) return next(err);if (doc) app.locals.me = doc;next();&#125;);&#125; else &#123;app.locals.auth = false;next();&#125;&#125;);]]></content>
      <tags>
        <tag>Node</tag>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptä¸­çš„Setsç®€ä»‹]]></title>
    <url>%2F2017%2F07%2F16%2FSets-in-JavaScript%2F</url>
    <content type="text"><![CDATA[Sets æ˜¯ES6(ES2015)ä¸­ä¸€ä¸ªæ–°çš„å¯¹è±¡ç±»å‹ï¼Œç”¨æ¥åˆ›å»ºä¸€ç³»åˆ—å”¯ä¸€å€¼çš„é›†åˆ.é›†åˆä¸­çš„å€¼å¯ä»¥æ˜¯ç®€å•çš„åŸå§‹ç±»å‹å¦‚å­—ç¬¦ä¸²(strings)æˆ–æ•´æ•°(integers)ï¼Œä¹Ÿå¯ä»¥æ˜¯æ›´å¤æ‚çš„å¯¹è±¡ç±»å‹å¦‚å¯¹è±¡å­—é¢é‡æˆ–è€…æ•°ç»„ åŸºæœ¬æ–¹æ³•ä¸‹é¢æ˜¯åŸºæœ¬çš„setåŠå…¶æ–¹æ³•(add, size, has, forEach, delete, clear)çš„ç®€å•ç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425let animals = new Set();animals.add('ğŸ·');animals.add('ğŸ¼');animals.add('ğŸ¢');animals.add('ğŸ¿');console.log(animals.size); // 4animals.add('ğŸ¼');console.log(animals.size); // 4console.log(animals.has('ğŸ·')); // trueanimals.delete('ğŸ·');console.log(animals.has('ğŸ·')); // falseanimals.forEach(animal =&gt; &#123; console.log(`Hey $&#123;animal&#125;!`);&#125;);// Hey ğŸ¼!// Hey ğŸ¢!// Hey ğŸ¿!animals.clear();console.log(animals.size); // 0 åˆå§‹åŒ–ä¸‹é¢æ˜¯å¦ä¸€ä¸ªå°†æ•°ç»„ä½œä¸ºåˆå§‹å€¼ä¼ è¿›setçš„ç¤ºä¾‹ã€‚éœ€è¦ä¸»è¦çš„æ˜¯åˆå§‹åŒ–çš„æ•°ç»„æ˜¯å¦‚ä½•è¢«è§£æ„çš„ï¼Œä½†æ˜¯éšåæ·»åŠ çš„æ•°ç»„å°†ä»¥æ•°ç»„çš„å½¢å¼å­˜åœ¨ï¼š 123456789101112131415let myAnimals = new Set(['ğŸ·', 'ğŸ¢', 'ğŸ·', 'ğŸ·']);myAnimals.add(['ğŸ¨', 'ğŸ‘']);myAnimals.add(&#123; name: 'Rud', type: 'ğŸ¢' &#125;);console.log(myAnimals.size); // 4myAnimals.forEach(animal =&gt; &#123; console.log(animal);&#125;);// ğŸ·// ğŸ¢// ["ğŸ¨", "ğŸ‘"]// Object &#123; name: "Rud", type: "ğŸ¢" &#125; å­—ç¬¦ä¸²ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„è¿­ä»£ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥è¢«ä¼ å…¥æ¥åˆå§‹åŒ–ä¸€ä¸ªsetï¼š 1234console.log('Only unique characters will be in this set.'.length); // 43let sentence = new Set('Only unique characters will be in this set.');console.log(sentence.size); // 18 Forâ€¦oféå†é™¤äº†åœ¨ä¸€ä¸ªsetä¸Šå¯ä»¥ä½¿ç”¨forEachå¤–ï¼Œforâ€¦ofå¾ªç¯ä¹Ÿå¯ä»¥è¢«ç”¨æ¥éå†setsï¼š 12345678910let moreAnimals = new Set(['ğŸº', 'ğŸ´', 'ğŸ•', 'ğŸ‡']);for (let animal of moreAnimals) &#123; console.log(`Howdy $&#123; animal &#125;`);&#125;// Howdy ğŸº// Howdy ğŸ´// Howdy ğŸ•// Howdy ğŸ‡ Keys å’Œ ValuesSetsä¹Ÿæœ‰keyså’Œvaluesæ–¹æ³•ï¼Œç”±äºkeysæ˜¯valuesçš„åˆ«åï¼Œæ‰€ä»¥ä¸¤ä¸ªæ–¹æ³•å…¶å®æ˜¯å®Œæˆä¸€æ ·çš„äº‹æƒ…ã€‚ä½¿ç”¨ä¸¤è€…ä¸­çš„ä»»ä½•ä¸€ä¸ªæ–¹æ³•éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„å¯è¿­ä»£çš„å¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„å€¼ä¸æ·»åŠ åˆ°é›†åˆä¸­çš„é¡ºåºç›¸åŒã€‚ 123456789101112131415161718192021222324let partyItems = new Set(['ğŸ•', 'ğŸ¾', 'ğŸŠ']);let items = partyItems.values();console.log(items.next());console.log(items.next());console.log(items.next());console.log(items.next().done);// Object &#123;// done: false,// value: "ğŸ•"// &#125;// Object &#123;// done: false,// value: "ğŸ¾"// &#125;// Object &#123;// done: false,// value: "ğŸŠ"// &#125;// true æ³¨ï¼š æœ¬æ–‡ç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ï¼Œä»…ç”¨äºå­¦ä¹ ä¸äº¤æµï¼› å¦‚éœ€è½¬è½½è¯‘æ–‡ï¼Œçƒ¦è¯·æŒ‰ä¸‹æ–¹æ³¨æ˜å‡ºå¤„ä¿¡æ¯ï¼Œè°¢è°¢ï¼åŸæ–‡ï¼š Introduction to Sets in JavaScriptä½œè€…ï¼š alligatorioè¯‘è€…ï¼šsmallboneè¯‘æ–‡åœ°å€ï¼šhttps://alligator.io//js/sets-introduction/]]></content>
      <tags>
        <tag>JavaScript</tag>
        <tag>ES6</tag>
        <tag>Sets</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Flex Basisä¸Widthçš„åŒºåˆ«]]></title>
    <url>%2F2017%2F07%2F08%2FWidth-FlexBasis%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘åœ¨å­¦ä¹ Flex Boxï¼Œå…¶ä¸­çš„Flex Boxå±æ€§ä¸­çš„Flex Basisæ˜¯å…³äºé¡¹ç›®å®½åº¦å±æ€§è®¾ç½®çš„ï¼Œè¿™è®©è®¸å¤šåˆå­¦Flex Boxçš„äººå›°æƒ‘å®ƒä¸CSSç›’å­æ¨¡å‹Widthå±æ€§çš„åŒºåˆ«åœ¨å“ªï¼ŸGoogleäº†ä¸€ç•ªï¼Œæ‰¾åˆ°ä¸€ç¯‡è§£é‡Šå†™å¾—å¾ˆæ˜¯ä¸é”™çš„æ–‡ç« ï¼Œå°è¯•ç€ç¿»è¯‘åˆ†äº«ä¸€ä¸‹ã€‚åŸæ–‡åœ°å€ï¼šhttp://gedd.ski/post/the-difference-between-width-and-flex-basis/ Flex Itemsçš„åº”ç”¨å‡†åˆ™content â€“&gt; width â€“&gt; flex-basis (limted by max|min-width)ä¹Ÿå°±æ˜¯è¯´ï¼Œ å¦‚æœæ²¡æœ‰è®¾ç½®flex-basiså±æ€§ï¼Œé‚£ä¹ˆflex-basisçš„å¤§å°å°±æ˜¯é¡¹ç›®çš„widthå±æ€§çš„å¤§å° å¦‚æœæ²¡æœ‰è®¾ç½®widthå±æ€§ï¼Œé‚£ä¹ˆflex-basisçš„å¤§å°å°±æ˜¯é¡¹ç›®å†…å®¹(content)çš„å¤§å° ä¸‹é¢é€šè¿‡ç»™ä¸€ä¸ª1000pxçš„flexå®¹å™¨æ¥æ·»åŠ ä¸€äº›flex itemsæ¥è¯´æ˜ä¸€ä¸‹Flex Itemsçš„åº”ç”¨å‡†åˆ™ï¼š1234container &#123; display: flex; width: 1000px;&#125; è®¾ç½®å®½åº¦(Width)æ·»åŠ å››ä¸ª200x200åƒç´ çš„itemsåˆ°flexå®¹å™¨ä¸­1234item &#123; width: 200px; height: 200px;&#125; å› ä¸ºflexå®¹å™¨æœ‰è¶³å¤Ÿå¤šçš„ç©ºé—´ï¼Œæ‰€ä»¥itemså¯ä»¥å¾ˆå¥½çš„å¡«å……åœ¨å®¹å™¨å†…éƒ¨ï¼šä¸Šé¢çš„ç¤ºä¾‹å°±æ˜¯å½“flex-basisæ²¡æœ‰è¢«æŒ‡å®šï¼Œé»˜è®¤å€¼æ˜¯flex-basis: autoï¼Œä¹Ÿå°±æ„å‘³ç€itemsä»¥å®½åº¦width(200px)ä¸ºå‡†ã€‚ è®¾ç½®ä¸€ä¸ªFlex Basiså€¼è®©æˆ‘ä»¬çœ‹çœ‹å½“ç»™è¿™äº›å·²ç»è®¾ç½®å›ºå®šå®½åº¦widthçš„itemsè®¾ç½®ä¸€ä¸ªflex-basiså€¼ä¼šå‘ç”Ÿä»€ä¹ˆã€‚1234item &#123; width: 30px; flex-basis: 250px;&#125; å°±åƒä½ è¯´çœ‹åˆ°çš„ï¼Œå½“æŒ‡å®šä¸€ä¸ªflex-basiså€¼çš„æ—¶å€™ï¼Œç›’å­çš„å®½åº¦å±æ€§è¢«å¿½ç•¥äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±ä¸éœ€è¦æŒ‡å®šç›’å­çš„å®½åº¦widthå±æ€§äº†123item &#123; flex-basis: 250px;&#125; itemså®Œå…¨å¡«å……äº†flexå®¹å™¨ï¼šå› æ­¤itemsçš„å®½åº¦å…³é”®åœ¨ç”¨æœ€ç»ˆçš„flex-basisã€‚æœ€ä½³çš„æ–¹æ³•æ˜¯åªä½¿ç”¨flex-basisè€Œä¸æ˜¯widthæˆ–heightå±æ€§ã€‚ç‰¹åˆ«æ˜¯Safari 10ä¹‹å‰çš„ç‰ˆæœ¬çš„æµè§ˆå™¨æœ‰ä¸€ä¸ªflexbox bugï¼Œåœ¨ç»™itemsåº”ç”¨flex-shrinkå±æ€§çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šä½¿ç”¨heightå±æ€§è€Œä¸æ˜¯flex-basisã€‚ ä½¿ç”¨max-widthæ¥é™åˆ¶flex-basismin-widthå’Œmax-widthä¼šé™åˆ¶flex-basiså€¼ã€‚ä¸‹é¢æ˜¯ç»™flex itemsè®¾ç½®max-widthçš„ç»“æœï¼š1234item &#123; flex-basis: 250px; max-width: 100px;&#125; å¯ä»¥çœ‹åˆ°å³ä½¿æˆ‘ä»¬å°†flex-basisè®¾ç½®ä¸º250pxï¼Œitemçš„å®½åº¦è¿˜æ˜¯è¢«é™åˆ¶åœ¨äº†100pxã€‚æ‰€ä»¥åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­æœ€ç»ˆçš„flex-basisæ˜¯100pxï¼šæ¥ç€è¯•è¯•min-widthæ¥çœ‹çœ‹æœ€ç»ˆçš„flex-basisæœ‰ä»€ä¹ˆä¸åŒï¼š1234item &#123; flex-basis: 100px; min-width: 250px;&#125; å¯ä»¥çœ‹åˆ°æœ€ç»ˆitemçš„å®½åº¦æ˜¯250pxè€Œä¸æ˜¯100pxï¼š Flex-basisåˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿç°åœ¨æˆ‘ä»¬çŸ¥é“äº†widthå±æ€§åªæ˜¯ä¸€ä¸ªå½“flex-basisæ²¡æœ‰è¢«è®¾ç½®æ—¶çš„å›é€€é€‰é¡¹ã€‚min-widthå’Œmax-widthåˆ™æ˜¯flex-basisçš„ä¸‹é™å’Œä¸Šé™ã€‚é‚£ä¹ˆflex-basisåˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ ä¹Ÿè®¸ä½ æ³¨æ„åˆ°äº†ä¸Šé¢æˆ‘ä»¬æ‰€æœ‰çš„ç¤ºä¾‹åœ¨å°†flex itemsæ”¾å…¥flexå®¹å™¨ä¹‹å‰éƒ½ç›´è§‚åœ°åˆ—å‡ºäº†flex itemsçš„å¤§å°ã€‚ä¹‹æ‰€ä»¥è¿™ä¹ˆåšæ˜¯å› ä¸ºè¿™å°±æ˜¯flex-basisçš„å«ä¹‰ï¼šflex items åœ¨è¢«æ”¾è¿›ä¸€ä¸ªflexå®¹å™¨ä¹‹å‰çš„å¤§å°ã€‚ä¹Ÿå°±æ˜¯itemsç†æƒ³æˆ–å‡è®¾çš„å¤§å°ã€‚ä½†æ˜¯flex-basisä¸èƒ½ä¿è¯å…¶å¤§å°ï¼ä¸€æ—¦å°†itemsæ”¾å…¥flexå®¹å™¨ä¸­ï¼Œflex-basisçš„å€¼å°±æ— æ³•ä¿è¯äº†ã€‚åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°flex itemså®Œç¾åœ°å¡«å……äº†å®¹å™¨ï¼Œé‚£æ˜¯å› ä¸ºå®¹å™¨çš„å¤§å°æ­£å¥½ç­‰äºitemsæœ€ç»ˆçš„flex-basisä¹‹å’Œã€‚ä½†æ˜¯å¦‚æœå®¹å™¨æ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´æ¥å®¹çº³æˆ–è€…æœ‰å¤šä½™çš„ç©ºé—´å‘¢ï¼Ÿä¸‹é¢å°±åˆ†åˆ«è®²è§£ä¸€ä¸‹è¿™ä¸¤ç§æƒ…å†µï¼š å½“æ²¡æœ‰è¶³å¤Ÿç©ºé—´çš„æ—¶å€™æ¯”æ–¹è¯´æˆ‘ä»¬æƒ³è¦æ”¾æ›´å¤šçš„flex-basisï¼š200pxçš„itemsåˆ°æˆ‘ä»¬çš„å®¹å™¨ï¼šåœ¨itemsè¢«æ”¾è¿›å®¹å™¨ä¹‹å‰ï¼Œæ¯ä¸ªitemä¼šå æ®200pxï¼Œæ‰€æœ‰çš„itemsä¼šå æ®1600pxã€‚ä½†æ˜¯å®¹å™¨åªæœ‰1000pxã€‚å½“å®¹å™¨æ²¡æœ‰è¶³å¤Ÿå¤§çš„ç©ºé—´æ¥å­˜æ”¾æ‰€æœ‰çš„itemsçš„æ—¶å€™ï¼Œflex itemsä¼šæŒ‰ç…§å‹ç¼©ç‡(shrink rate)è¢«å‹ç¼©(shrink)å…¶å¤§å°æ¥å¡«å……å®¹å™¨,è¿™ä¸ªå‹ç¼©ç‡å°±æ˜¯flex-shrinkæ¥è®¾ç½®çš„ï¼Œé»˜è®¤æƒ…å†µä¸‹æ¯ä¸ªitemçš„å‹ç¼©ç‡éƒ½æ˜¯ä¸€æ ·çš„ï¼š å½“æœ‰é¢å¤–çš„ç©ºé—´çš„æ—¶å€™é€šå¸¸æˆ‘ä»¬ä¼šæœ‰é¢å¤–çš„ç©ºé—´å‰©ä½™å½“æ‰€æœ‰çš„itemséƒ½æ·»åŠ è¿›å®¹å™¨åï¼š123item &#123; flex-basis: 100px;&#125; æˆ‘ä»¬å¯ä»¥æ§åˆ¶flex itemsçš„å¢é•¿æ¥å¡«å……å¯ç”¨çš„ç©ºé—´ï¼Œè¿™ä¹Ÿå°±æ˜¯flex-growå±æ€§çš„ä½œç”¨ã€‚é»˜è®¤å€¼ä¸º0ï¼Œæ„å‘³ç€itemä¸ä¼šå¢é•¿ã€‚å¦‚æœå°†æ¯ä¸ªitemè®¾ç½®flex-growï¼š 1ï¼Œé‚£ä¹ˆæ‰€æœ‰ çš„iteméƒ½ä¼šç­‰æ¯”ä¾‹çš„å¢é•¿æ¥å¡«å……å‰©ä½™çš„ç©ºé—´ï¼š1234item &#123; flex-basis: 100px; flex-grow: 1;&#125; å¢é•¿å’Œå‹ç¼©æ˜¯flexboxä¸­å¾ˆé‡è¦çš„ç‰¹æ€§ï¼Œä¹Ÿè®©flexboxéå¸¸é€‚åˆåº”ç”¨äºå“åº”å¼UIè®¾è®¡ã€‚Flexbox Zombiesè¯¾ç¨‹æ¶µç›–äº†flex-shrinkå’Œflex-growæ›´å¤šè¯¦ç»†çš„ç»†èŠ‚ã€‚ Width vs flex-basiså¸Œæœ›ç°åœ¨ä½ æ˜ç™½äº†widthå’Œflex-basisä¹‹é—´çš„åŒºåˆ«ï¼Œä¹ŸçŸ¥é“äº†å¦‚ä½•ä½¿ç”¨min-widthå’Œmax-widthæ¥é™åˆ¶æœ€ç»ˆçš„flex-basisã€‚ä»¥ä¸Šè¿™äº›è®¾ç½®åŒæ ·é€‚ç”¨äºheightå±æ€§ï¼Œå½“ä½ å°†flex-directionè®¾ç½®ä¸ºcolumnæˆ–è€…column-reverseçš„æ—¶å€™ã€‚å¦‚æœä½ æƒ³æŒæ¡æ‰€æœ‰çš„flexboxå±æ€§ï¼Œå¢™è£‚æ¨èå…è´¹çš„Flexbox Zombiesè¯¾ç¨‹ï¼Œé€šè¿‡ç©æ¸¸æˆæ¥å­¦ä¹ flexboxï¼]]></content>
      <tags>
        <tag>CSS</tag>
        <tag>FlexBox</tag>
        <tag>ç¿»è¯‘</tag>
        <tag>å‰ç«¯å¼€å‘</tag>
      </tags>
  </entry>
</search>